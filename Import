-- Adminer 4.8.1 MySQL 5.5.5-10.8.3-MariaDB-1:10.8.3+maria~jammy dump

SET NAMES utf8;
SET time_zone = '+00:00';
SET foreign_key_checks = 0;
SET sql_mode = 'NO_AUTO_VALUE_ON_ZERO';

SET NAMES utf8mb4;

CREATE DATABASE `DataBasesTestDB` /*!40100 DEFAULT CHARACTER SET utf8mb4 */;
USE `DataBasesTestDB`;

DROP TABLE IF EXISTS `?group_diet`;
CREATE TABLE `?group_diet` (
  `group_diet_id` int(11) NOT NULL AUTO_INCREMENT,
  `food_group_id` int(11) NOT NULL,
  `description` varchar(45) NOT NULL,
  `last_update` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  PRIMARY KEY (`group_diet_id`),
  KEY `food_group_id` (`food_group_id`),
  CONSTRAINT `?group_diet_ibfk_1` FOREIGN KEY (`food_group_id`) REFERENCES `Food_group` (`food_group_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


DROP TABLE IF EXISTS `Chef`;
CREATE TABLE `Chef` (
  `chef_id` int(11) NOT NULL AUTO_INCREMENT,
  `first_name` varchar(45) NOT NULL,
  `last_name` varchar(45) NOT NULL,
  `age` int(11) NOT NULL,
  `email` varchar(60) NOT NULL,
  `phone` int(11) NOT NULL,
  `date_of_birth` date NOT NULL,
  `years_of_expirience` tinyint(4) NOT NULL,
  `specialization` varchar(45) NOT NULL,
  `level` enum('assistant','junior_chef','senior','chef','master_chef') NOT NULL,
  `last_update` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  PRIMARY KEY (`chef_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


DROP TABLE IF EXISTS `Equipment`;
CREATE TABLE `Equipment` (
  `equipment_id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(45) NOT NULL,
  `usage_insrtuctions` text NOT NULL,
  `last_update` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  PRIMARY KEY (`equipment_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


DROP TABLE IF EXISTS `Food_group`;
CREATE TABLE `Food_group` (
  `food_group_id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(45) NOT NULL,
  `description` text NOT NULL,
  `last_update` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  PRIMARY KEY (`food_group_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


DROP TABLE IF EXISTS `Image`;
CREATE TABLE `Image` (
  `image_id` int(11) NOT NULL AUTO_INCREMENT,
  `image_URL` text NOT NULL,
  `?entity_id` int(11) NOT NULL,
  `entity_type` enum('Chef','Recipe','Equipment') NOT NULL,
  `last_update` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  PRIMARY KEY (`image_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


DROP TABLE IF EXISTS `Ingredient`;
CREATE TABLE `Ingredient` (
  `ingredient_id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(45) NOT NULL,
  `food_group_id` int(11) NOT NULL,
  `last_update` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  PRIMARY KEY (`ingredient_id`),
  KEY `food_group_id` (`food_group_id`),
  CONSTRAINT `Ingredient_ibfk_1` FOREIGN KEY (`food_group_id`) REFERENCES `Food_group` (`food_group_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


DROP TABLE IF EXISTS `Labels`;
CREATE TABLE `Labels` (
  `labels_id` int(11) NOT NULL AUTO_INCREMENT,
  `recipe_id` int(11) NOT NULL,
  `lunch_type` varchar(45) NOT NULL,
  `last_update` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  PRIMARY KEY (`labels_id`),
  KEY `recipe_id` (`recipe_id`),
  CONSTRAINT `Labels_ibfk_1` FOREIGN KEY (`recipe_id`) REFERENCES `Recipe` (`recipe_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


DROP TABLE IF EXISTS `National_cucine`;
CREATE TABLE `National_cucine` (
  `national_cucine_id` int(11) NOT NULL AUTO_INCREMENT,
  `recipe_id` int(11) NOT NULL,
  `national_cucine` varchar(45) NOT NULL,
  `last_update` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  PRIMARY KEY (`national_cucine_id`),
  KEY `recipe_id` (`recipe_id`),
  CONSTRAINT `National_cucine_ibfk_1` FOREIGN KEY (`recipe_id`) REFERENCES `Recipe` (`recipe_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


DROP TABLE IF EXISTS `Nutritional_info`;
CREATE TABLE `Nutritional_info` (
  `nutritional_info_id` int(11) NOT NULL AUTO_INCREMENT,
  `ingredient_id` int(11) NOT NULL,
  `calories_per_100` int(11) NOT NULL,
  `proteins_per_100` int(11) NOT NULL,
  `fat_per_100` int(11) NOT NULL,
  `serving_size` varchar(45) NOT NULL,
  `other_nutrians` text NOT NULL,
  `last_update` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  PRIMARY KEY (`nutritional_info_id`),
  KEY `ingredient_id` (`ingredient_id`),
  CONSTRAINT `Nutritional_info_ibfk_1` FOREIGN KEY (`ingredient_id`) REFERENCES `Ingredient` (`ingredient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


DROP TABLE IF EXISTS `Recipe`;
CREATE TABLE `Recipe` (
  `recipe_id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(45) NOT NULL,
  `Short_description` text NOT NULL,
  `basic_ingredient_id` int(11) NOT NULL,
  `national_cusine_id` int(11) NOT NULL,
  `difficulty_level` enum('Very Easy','Easy','Medium','Hard','Very Hard') NOT NULL,
  `meal_type` int(11) NOT NULL,
  `portions` int(11) NOT NULL,
  `cooking_time` int(11) NOT NULL,
  `preparation_time` int(11) NOT NULL,
  `last_update` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  PRIMARY KEY (`recipe_id`),
  KEY `national_cusine_id` (`national_cusine_id`),
  KEY `basic_ingredient_id` (`basic_ingredient_id`),
  CONSTRAINT `Recipe_ibfk_1` FOREIGN KEY (`national_cusine_id`) REFERENCES `National_cucine` (`national_cucine_id`),
  CONSTRAINT `Recipe_ibfk_2` FOREIGN KEY (`basic_ingredient_id`) REFERENCES `Ingredient` (`ingredient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


DROP TABLE IF EXISTS `Steps`;
CREATE TABLE `Steps` (
  `steps_id` int(11) NOT NULL AUTO_INCREMENT,
  `step_number` int(11) NOT NULL,
  `step_description` text NOT NULL,
  `recipe_id` int(11) NOT NULL,
  `last_update` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  PRIMARY KEY (`steps_id`),
  KEY `recipe_id` (`recipe_id`),
  CONSTRAINT `Steps_ibfk_1` FOREIGN KEY (`recipe_id`) REFERENCES `Recipe` (`recipe_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


DROP TABLE IF EXISTS `Tips`;
CREATE TABLE `Tips` (
  `tips_id` int(11) NOT NULL,
  `recipe_id` int(11) NOT NULL,
  `tip_text` text NOT NULL,
  `last_update` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  KEY `recipe_id` (`recipe_id`),
  CONSTRAINT `Tips_ibfk_1` FOREIGN KEY (`recipe_id`) REFERENCES `Recipe` (`recipe_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


-- 2024-03-16 12:42:45
